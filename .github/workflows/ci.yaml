on: [push, pull_request]

strategy:
    matrix:
        os:
            - ubuntu-latest
            - windows-latest
            - macos-latest
        rust:
            - stable
            - beta
            - nightly

jobs:
    ci:
        name: "ci"
        runs-on: ${{ matrix.os }}
        steps:
            - uses: actions/checkout@master
            - uses: actions-rs/toolchain@v1
              with:
                toolchain: ${{ matrix.rust }}
                override: true
            - uses: actions-rs/cargo@v1
              with:
                command: test
                args: --all-features
            - uses: actions-rs/cargo@v1
              with:
                command: bench
                args: --all-features

